!function(){var t=function(){this.initialize(),this.init()};t.prototype=new createjs.Container,t.prototype.init=function(){this.face_mc=new createjs.Container,this.game_mc=new createjs.Container;var t=preload.getResult("bgComix"),e=new createjs.Bitmap(t);e.scaleX=scaleGraphics,e.scaleY=scaleGraphics,e.w=e.image.width*e.scaleX,e.h=e.image.height*e.scaleY,this.addChild(e),this.addChild(this.game_mc),this.addChild(this.face_mc),this.curComix=1,this.arButtons=[],this.comix1=this.addObj("comix1",512,340),this.game_mc.addChild(this.comix1),this.comix2=this.addObj("comix2",512,320),this.comix2.alpha=0,this.game_mc.addChild(this.comix2),this.btnMenu=this.add_button("exit",830*scaleGraphics,110*scaleGraphics,"ResetButtonNo"),this.face_mc.addChild(this.btnMenu),this.btnNext=this.add_button("next",512*scaleGraphics,690*scaleGraphics,"ButtonNext"),this.face_mc.addChild(this.btnNext),this.btnSound=new createjs.Container,this.btnSound.fname="btnSound",this.btnSound.x=955*scaleGraphics,this.btnSound.y=55*scaleGraphics,this.btnSound._selected=!1,this.btnSound.width=88*scaleGraphics,this.btnSound.height=85*scaleGraphics,this.btnSound.r=88*scaleGraphics/2,this.btnSound.rr=this.btnSound.r*this.btnSound.r,this.addChild(this.btnSound),this.arButtons.push(this.btnSound),this.btnSoundOn=this.add_button("sound",955*scaleGraphics,55*scaleGraphics,"ButtonSoundOn"),this.btnSoundOff=this.add_button("sound",955*scaleGraphics,55*scaleGraphics,"ButtonSoundOff"),this.btnSoundOn.name="btnSound",this.btnSoundOff.name="btnSound",this.refreshSound(),this.touchHandler=this.touchHandler.bind(this),this.addEventListener("mousedown",this.touchHandler),this.addEventListener("pressmove",this.touchHandler),this.addEventListener("pressup",this.touchHandler)},t.prototype.addObj=function(t,e,s,i,n){i||(i=1),n||(n=1);var o=new createjs.Container,a=preload.getResult(t),h=new createjs.Bitmap(a);return h.x=-(h.image.width/2),h.y=-(h.image.height/2),o.addChild(h),o.scaleX=scaleGraphics*i,o.scaleY=scaleGraphics*n,o.x=e*scaleGraphics,o.y=s*scaleGraphics,o.w=h.image.width*o.scaleX,o.h=h.image.height*o.scaleY,o.name=t,o},t.prototype.add_button=function(t,e,s,i){var n=new createjs.Container;n.title=t,n.x=e,n.y=s,n.name=i;var o=preload.getResult(i),a=new createjs.Bitmap(o);return a.scaleX=scaleGraphics,a.scaleY=scaleGraphics,a.x=-a.image.width/2*a.scaleX,a.y=-a.image.height/2*a.scaleY,n.addChild(a),o=preload.getResult(i+"Activ"),n.over=new createjs.Bitmap(o),n.over.image&&(n.over.scaleX=scaleGraphics,n.over.scaleY=scaleGraphics,n.over.x=-n.over.image.width/2*n.over.scaleX,n.over.y=-n.over.image.height/2*n.over.scaleY,n.over.visible=!1,n.addChild(n.over)),n.r=a.image.width*a.scaleX/2,n.rr=n.r*n.r,n._selected=!1,n.w=a.image.width,n.h=a.image.height,this.arButtons.push(n),this.face_mc.addChild(n),n},t.prototype.clickSound=function(){options_sound?(options_sound=!1,options_music=!1,music_stop()):(options_sound=!0,options_music=!0,musicTheme="none",music_play("musicMenu")),this.refreshSound()},t.prototype.refreshSound=function(){options_sound?(this.btnSoundOn.visible=!0,this.btnSoundOff.visible=!1):(this.btnSoundOn.visible=!1,this.btnSoundOff.visible=!0)},t.prototype.clickObj=function(t){var e=t.name,s=this;return t._selected=!1,t.over&&(t.over.visible=!1),"btnSound"==e?void this.clickSound():void("ButtonNext"==e?1==this.curComix?(createjs.Tween.get(this.comix1).to({alpha:0},300),createjs.Tween.get(this.comix2).to({alpha:1},300).call(function(){s.curComix=2})):(this.removeEventListener("mousedown",this.touchHandler),this.removeEventListener("pressmove",this.touchHandler),this.removeEventListener("pressup",this.touchHandler),showGame(),com.funtomic.GameOps.reportEvent("story_started",{story_id:1}),com.funtomic.GameOps.levelStarted(1)):"ResetButtonNo"==e&&(this.removeEventListener("mousedown",this.touchHandler),this.removeEventListener("pressmove",this.touchHandler),this.removeEventListener("pressup",this.touchHandler),showMenu()))},t.prototype.checkButtons=function(t){for(var e=t.stageX,s=t.stageY,i=0;i<this.arButtons.length;i++){var n=this.arButtons[i];hit_test_rec(n,n.w,n.h,e,s)?n.visible&&0==n._selected&&(n._selected=!0,n.over&&(n.over.visible=!0)):n._selected&&(n._selected=!1,n.over&&(n.over.visible=!1))}},t.prototype.touchHandler=function(t){var e,s=t.type,i=(t.stageX,t.stageY,0);if("mousedown"==s||"pressmove"==s)this.checkButtons(t);else if("pressup"==s)for(i=0;i<this.arButtons.length;i++)if(e=this.arButtons[i],e.visible&&e._selected)return void this.clickObj(e)},window.ScrComix=t}();