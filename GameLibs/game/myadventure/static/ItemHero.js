!function(){var t=function(){this.initialize(),this.init()};t.prototype=new createjs.Container,t.prototype.init=function(){this.say=!1,this._ptMove={x:0,y:0},this._angleMove=0,this._move=!1,this._remove=!1,this._pause=options_pause,this._act="heroMove",this.tweenMouth={},this.countTick=0,this.speed=5,this.callBack=null,this.hero=new ItemAnima("heroMove"),this.hero.sprite.stop(),this.addChild(this.hero),this.sprite=this.hero.sprite,createjs.Ticker.on("tick",this.turnHandler,this),createjs.Ticker.setInterval(25),createjs.Ticker.setFPS(40)},t.prototype.addObj=function(t,e,i){var s=new createjs.Container,h=preload.getResult(t),o=new createjs.Bitmap(h);return o.x=-(o.image.width/2),o.y=-(o.image.height/2),s.addChild(o),s.x=e,s.y=i,s.w=o.image.width,s.h=o.image.height,s.name=t,s},t.prototype.showText=function(){this.say=!0},t.prototype.hideText=function(){this.say=!1},t.prototype.setSoar=function(){this.hero&&this.removeChild(this.hero),this.hero=this.addObj("heroSoar",0,0),this.addChild(this.hero)},t.prototype.initMove=function(t,e){this.sprite&&this.sprite.gotoAndPlay("one"),this._move=!0,this._ptMove=t,this._angleMove=Math.atan2(this._ptMove.y-this.y,this._ptMove.x-this.x),this.callBack=e,this.scaleX=this._ptMove.x>this.x?1*Math.abs(this.scaleX):-1*Math.abs(this.scaleX)},t.prototype.move=function(){this._angleMove=Math.atan2(this._ptMove.y-this.y,this._ptMove.x-this.x);var t=Math.cos(this._angleMove),e=Math.sin(this._angleMove),i=Math.max(this.speed*scaleGraphics,1),s=i*t,h=i*e;this.x+=Math.round(s),this.y+=Math.round(h),Math.abs(this.x-this._ptMove.x)<this.speed&&Math.abs(this.y-this._ptMove.y)<this.speed&&(this._move=!1,this.callBack(),this.sprite&&this.sprite.stop())},t.prototype.setAct=function(t){this._act!=t&&(this._act=t,this.removeChild(this.hero),this.hero=new ItemAnima(t),this.hero.sprite.gotoAndPlay("one"),this.sprite=this.hero.sprite,this.addChild(this.hero),"heroJump"==t?this.hero.y=-15:"heroRoll"==t&&(this.hero.y=15))},t.prototype.turnHandler=function(t){return this._pause!=options_pause&&(this._pause=options_pause,"heroMove"==this._act&&0==this._move||this.sprite&&(options_pause?this.sprite.stop():this.sprite.play())),this._pause?void 0:(this._move&&this.move(),this._remove?void t.remove():void(this.hero.sprite&&this.hero.sprite.currentFrame>=14&&"heroMove"!=this._act&&this.setAct("heroRun")))},t.prototype.removeAllListener=function(){this._remove=!0},window.ItemHero=t}();