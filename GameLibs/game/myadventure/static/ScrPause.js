!function(){var i=function(){this.initialize(),this.init()};i.prototype=new createjs.Container,i.prototype.init=function(){this.screenBack=new createjs.Shape,this.screenBack.graphics.beginFill("rgba(255,255,255,0.4)").drawRect(0,0,_WO,_HO),this.addChild(this.screenBack),this.screenBack.scaleX=scaleGraphics,this.screenBack.scaleY=scaleGraphics,this.screenBack.visible=!1,this.timeHint=5e3,this.Hint=this.addObj("glow_add",200,200),this.Hint.visible=!1,this.Hint.scaleX=.5*this.Hint.scaleX,this.Hint.scaleY=.5*this.Hint.scaleY,this.addChild(this.Hint),this.tweenHint=createjs.Tween.get(this.Hint,{loop:!0}).to({rotation:180},700).to({rotation:359},700),login_obj.arPuzzle||(login_obj.arPuzzle=[]),this.ico=this.addObj("puzzle_ico",50,50),this.addChild(this.ico);var i=login_obj.arPuzzle.length,t=String(i)+"/18";this.tf=new createjs.Text(t,36*scaleGraphics+"px impact","#ffffff"),this.tf.lineWidth=230,this.tf.textAlign="left",this.tf.x=100*scaleGraphics,this.tf.y=35*scaleGraphics+options_txt_offset,this.addChild(this.tf),this.buttons=[],this.btnPlay=this.add_button("play",536*scaleGraphics,322*scaleGraphics,"btnPlay"),this.btnMenu=this.add_button("menu",536*scaleGraphics,518*scaleGraphics,"ButtonMenu"),this.btnPause=this.add_button("pause",955*scaleGraphics,57*scaleGraphics,"ButtonPause"),this.btnHint=this.add_button("hint",865*scaleGraphics,57*scaleGraphics,"ButtonHint"),this.btnSound=new createjs.Container,this.btnSound.fname="btnSound",this.btnSound.x=955*scaleGraphics,this.btnSound.y=55*scaleGraphics,this.btnSound._selected=!1,this.btnSound.width=88*scaleGraphics,this.btnSound.height=85*scaleGraphics,this.btnSound.r=88*scaleGraphics/2,this.btnSound.rr=this.btnSound.r*this.btnSound.r,this.addChild(this.btnSound),this.buttons.push(this.btnSound),this.btnSoundOn=this.add_button("sound",955*scaleGraphics,55*scaleGraphics,"ButtonSoundOn"),this.btnSoundOff=this.add_button("sound",955*scaleGraphics,55*scaleGraphics,"ButtonSoundOff"),this.refreshButtons(),this.chekHint=!1,this.showCheck=!1,this.touchHandler=this.touchHandler.bind(this),this.addEventListener("mousedown",this.touchHandler),this.addEventListener("pressmove",this.touchHandler),this.addEventListener("pressup",this.touchHandler)},i.prototype.clickSound=function(){options_sound?(options_sound=!1,options_music=!1,music_stop()):(options_sound=!0,options_music=!0,musicTheme="none",music_play("musicGame")),this.refreshButtons()},i.prototype.refreshButtons=function(){if(options_pause){this.screenBack.visible=!0,this.btnPlay.visible=!0,this.btnMenu.visible=!0,this.ico.visible=!0,this.tf.visible=!0,this.btnPause.visible=!1,this.btnHint.visible=!1,options_sound?(this.btnSoundOn.visible=!0,this.btnSoundOff.visible=!1):(this.btnSoundOn.visible=!1,this.btnSoundOff.visible=!0);var i=login_obj.arPuzzle.length,t=String(i)+"/18";this.tf.text=t}else this.screenBack.visible=!1,this.btnPlay.visible=!1,this.btnMenu.visible=!1,this.ico.visible=!1,this.tf.visible=!1,this.btnSoundOn.visible=!1,this.btnSoundOff.visible=!1,this.btnPause.visible=!0,this.btnHint.visible=!0},i.prototype.refreshPosition=function(){this.btnPlay.x=536*scaleGraphics,this.btnPlay.y=322*scaleGraphics,this.btnPause.x=955*scaleGraphics,this.btnPause.y=57*scaleGraphics,this.btnMenu.x=536*scaleGraphics,this.btnMenu.y=518*scaleGraphics,this.btnHint.x=865*scaleGraphics,this.btnHint.y=57*scaleGraphics,this.btnSound.x=955*scaleGraphics,this.btnSound.y=55*scaleGraphics,this.btnSoundOn.x=955*scaleGraphics,this.btnSoundOn.y=55*scaleGraphics,this.btnSoundOff.x=955*scaleGraphics,this.btnSoundOff.y=55*scaleGraphics,this.ico.x=50*scaleGraphics,this.ico.y=50*scaleGraphics,this.tf.x=100*scaleGraphics,this.tf.y=35*scaleGraphics+options_txt_offset,this.btnPlay.scaleX=scaleGraphics,this.btnPlay.scaleY=scaleGraphics,this.btnPause.scaleX=scaleGraphics,this.btnPause.scaleY=scaleGraphics,this.btnMenu.scaleX=scaleGraphics,this.btnMenu.scaleY=scaleGraphics,this.btnHint.scaleX=scaleGraphics,this.btnHint.scaleY=scaleGraphics,this.btnSound.scaleX=scaleGraphics,this.btnSound.scaleY=scaleGraphics,this.btnSoundOn.scaleX=scaleGraphics,this.btnSoundOn.scaleY=scaleGraphics,this.btnSoundOff.scaleX=scaleGraphics,this.btnSoundOff.scaleY=scaleGraphics,this.ico.scaleX=scaleGraphics,this.ico.scaleY=scaleGraphics,this.tf.scaleX=scaleGraphics,this.tf.scaleY=scaleGraphics,this.screenBack.scaleX=scaleGraphics,this.screenBack.scaleY=scaleGraphics},i.prototype.add_button=function(i,t,s,e){var h=new createjs.Container,n=preload.getResult(e),o=new createjs.Bitmap(n);return o.x=-(o.image.width/2),o.y=-(o.image.height/2),h.addChild(o),n=preload.getResult(e+"Activ"),h.over=new createjs.Bitmap(n),h.over.image&&(h.over.x=-(h.over.image.width/2),h.over.y=-(h.over.image.height/2),h.over.visible=!1,h.addChild(h.over)),h.scaleX=scaleGraphics,h.scaleY=scaleGraphics,h.x=t*scaleGraphics,h.y=s*scaleGraphics,h.w=o.image.width*scaleGraphics,h.h=o.image.height*scaleGraphics,h.r=h.w/2,h.rr=h.r*h.r,h.name=e,h._selected=!1,this.buttons.push(h),this.addChild(h),h},i.prototype.addObj=function(i,t,s){var e=new createjs.Container,h=preload.getResult(i),n=new createjs.Bitmap(h);return n.x=-(n.image.width/2),n.y=-(n.image.height/2),e.addChild(n),e.scaleX=scaleGraphics,e.scaleY=scaleGraphics,e.x=t*scaleGraphics,e.y=s*scaleGraphics,e.w=n.image.width*scaleGraphics,e.h=n.image.height*scaleGraphics,e.name=i,e},i.prototype.showHint=function(){if(this.chekHint=!1,login_obj.location&&(1==login_obj.location?login_obj["1_1_torch1Burn"]&&login_obj["1_1_torch2Burn"]?login_obj["1_1_keyTook"]?login_obj["1_1_doorOpen"]?login_obj["1_1_wellOpen"]||login_obj["1_3_knobTook"]&&(this.chekHint=!0,this.showCheck&&(reportHint(1,"1_1_wellOpen"),this.Hint.visible=!0,this.Hint.x=800*scaleGraphics,this.Hint.y=570*scaleGraphics)):(this.chekHint=!0,this.showCheck&&(reportHint(2,"1_1_doorOpen"),this.Hint.visible=!0,this.Hint.x=103*scaleGraphics,this.Hint.y=336*scaleGraphics)):(this.chekHint=!0,this.showCheck&&(reportHint(3,"1_1_keyTook"),this.Hint.visible=!0,this.Hint.x=689*scaleGraphics,this.Hint.y=60*scaleGraphics)):login_obj["1_1_torch1Burn"]?login_obj["1_1_torch2Burn"]||(this.chekHint=!0,this.showCheck&&(reportHint(4,"1_1_torch2Burn"),this.Hint.visible=!0,this.Hint.x=790*scaleGraphics,this.Hint.y=205*scaleGraphics)):(this.chekHint=!0,this.showCheck&&(reportHint(5,"1_1_torch1Burn"),this.Hint.visible=!0,this.Hint.x=340*scaleGraphics,this.Hint.y=213*scaleGraphics)):2==login_obj.location?login_obj["1_2_stoolTook"]?login_obj["1_2_stoolPut"]||(this.chekHint=!0,this.showCheck&&(reportHint(6,"1_2_stoolPut"),this.Hint.visible=!0,this.Hint.x=740*scaleGraphics,this.Hint.y=440*scaleGraphics)):(this.chekHint=!0,this.showCheck&&(reportHint(7,"1_2_stoolTook"),this.Hint.visible=!0,this.Hint.x=180*scaleGraphics,this.Hint.y=650*scaleGraphics)):3==login_obj.location?login_obj["1_3_knobTook"]?login_obj["1_3_bottle2Took"]?(this.chekHint=!0,this.showCheck&&(reportHint(8,"1_3_bottle2Took"),this.Hint.visible=!0,this.Hint.x=121*scaleGraphics,this.Hint.y=439*scaleGraphics)):(this.chekHint=!0,this.showCheck&&(reportHint(9,"1_3_bottle2Took"),this.Hint.visible=!0,this.Hint.x=944*scaleGraphics,this.Hint.y=233*scaleGraphics)):(this.chekHint=!0,this.showCheck&&(reportHint(10,"1_3_knobTook"),this.Hint.visible=!0,this.Hint.x=195*scaleGraphics,this.Hint.y=149*scaleGraphics)):4==login_obj.location?login_obj["1_5_keyTook"]&&(login_obj["1_4_doorOpen"]||(this.chekHint=!0,this.showCheck&&(reportHint(11,"1_4_doorOpen"),this.Hint.visible=!0,this.Hint.x=95*scaleGraphics,this.Hint.y=395*scaleGraphics))):5==login_obj.location?login_obj["1_5_keyTook"]?login_obj.l1_5_torchTook||(this.chekHint=!0,this.showCheck&&(reportHint(12,"l1_5_torchTook"),this.Hint.visible=!0,this.Hint.x=966*scaleGraphics,this.Hint.y=182*scaleGraphics)):(this.chekHint=!0,this.showCheck&&(reportHint(13,"1_5_keyTook"),this.Hint.visible=!0,this.Hint.x=165*scaleGraphics,this.Hint.y=632*scaleGraphics)):7==login_obj.location?login_obj.l1_7_gearTook?login_obj.l1_5_torchTook&&(this.chekHint=!0,this.showCheck&&(reportHint(14,"l1_5_torchTook"),this.Hint.visible=!0,this.Hint.x=120*scaleGraphics,this.Hint.y=185*scaleGraphics)):(this.chekHint=!0,this.showCheck&&(reportHint(15,"l1_7_gearTook"),this.Hint.visible=!0,this.Hint.x=45*scaleGraphics,this.Hint.y=620*scaleGraphics)):8==login_obj.location?login_obj["1_8_keyTook"]?login_obj.l1_8_gearTook?login_obj.l1_8_gateOpen||(this.chekHint=!0,this.showCheck&&(reportHint(16,"l1_8_gateOpen"),this.Hint.visible=!0,this.Hint.x=350*scaleGraphics,this.Hint.y=435*scaleGraphics)):(this.chekHint=!0,this.showCheck&&(reportHint(17,"l1_8_gearTook"),this.Hint.visible=!0,this.Hint.x=170*scaleGraphics,this.Hint.y=480*scaleGraphics)):(this.chekHint=!0,this.showCheck&&(reportHint(18,"1_8_keyTook"),this.Hint.visible=!0,this.Hint.x=640*scaleGraphics,this.Hint.y=640*scaleGraphics)):9==login_obj.location?login_obj.l2_1_fireTook||(this.chekHint=!0,this.showCheck&&(reportHint(19,"l2_1_fireTook"),this.Hint.visible=!0,this.Hint.x=550*scaleGraphics,this.Hint.y=550*scaleGraphics)):11==login_obj.location?login_obj.l2_3_lampTook||(this.chekHint=!0,this.showCheck&&(reportHint(20,"l2_3_lampTook"),this.Hint.visible=!0,this.Hint.x=180*scaleGraphics,this.Hint.y=660*scaleGraphics)):12==login_obj.location?login_obj.l2_4_bananaTook?login_obj.l2_4_doorOpen||(this.chekHint=!0,this.showCheck&&(reportHint(21,"l2_4_doorOpen"),this.Hint.visible=!0,this.Hint.x=700*scaleGraphics,this.Hint.y=162*scaleGraphics)):(this.chekHint=!0,this.showCheck&&(reportHint(22,"l2_4_bananaTook"),this.Hint.visible=!0,this.Hint.x=65*scaleGraphics,this.Hint.y=98*scaleGraphics)):13==login_obj.location?login_obj.l2_5_stellaFire||(this.chekHint=!0,this.showCheck&&(reportHint(23,"l2_5_stellaFire"),this.Hint.visible=!0,this.Hint.x=780*scaleGraphics,this.Hint.y=325*scaleGraphics)):15==login_obj.location?login_obj.l2_7_bananaTook?login_obj.l2_7_ropeTook||(this.chekHint=!0,this.showCheck&&(reportHint(24,"l2_7_ropeTook"),this.Hint.visible=!0,this.Hint.x=200*scaleGraphics,this.Hint.y=110*scaleGraphics)):(this.chekHint=!0,this.showCheck&&(reportHint(25,"l2_7_bananaTook"),this.Hint.visible=!0,this.Hint.x=300*scaleGraphics,this.Hint.y=40*scaleGraphics)):16==login_obj.location?login_obj.l2_8_stellaFire||(this.chekHint=!0,currentScreen.hero.x>_W/2&&this.showCheck&&(reportHint(26,"l2_8_stellaFire"),this.Hint.visible=!0,this.Hint.x=925*scaleGraphics,this.Hint.y=225*scaleGraphics)):17==login_obj.location?login_obj.l2_9_bananaTook?login_obj.l2_7_ropeTook&&(login_obj.l2_9_setRope||(this.chekHint=!0,this.showCheck&&(reportHint(27,"l2_9_setRope"),this.Hint.visible=!0,this.Hint.x=683*scaleGraphics,this.Hint.y=532*scaleGraphics))):(this.chekHint=!0,this.showCheck&&(reportHint(28,"l2_9_bananaTook"),this.Hint.visible=!0,this.Hint.x=100*scaleGraphics,this.Hint.y=290*scaleGraphics)):18==login_obj.location?login_obj.l2_10_stellaFire?login_obj.l2_10_openDoor?login_obj.l2_10_eatrhTook||(this.chekHint=!0,this.showCheck&&(reportHint(29,"l2_10_eatrhTook"),this.Hint.visible=!0,this.Hint.x=550*scaleGraphics,this.Hint.y=410*scaleGraphics)):(this.chekHint=!0,this.showCheck&&(reportHint(30,"l2_10_openDoor"),this.Hint.visible=!0,this.Hint.x=555*scaleGraphics,this.Hint.y=90*scaleGraphics)):(this.chekHint=!0,this.showCheck&&(reportHint(31,"l2_10_stellaFire"),this.Hint.visible=!0,this.Hint.x=825*scaleGraphics,this.Hint.y=415*scaleGraphics)):19==login_obj.location?login_obj.l2_19_keyTook?login_obj.l2_19_doorOpen||(this.chekHint=!0,this.showCheck&&(reportHint(32,"l2_19_doorOpen"),this.Hint.visible=!0,this.Hint.x=70*scaleGraphics,this.Hint.y=405*scaleGraphics)):(this.chekHint=!0,this.showCheck&&(reportHint(33,"l2_19_keyTook"),this.Hint.visible=!0,this.Hint.x=50*scaleGraphics,this.Hint.y=200*scaleGraphics)):21==login_obj.location?login_obj.l3_1_valveTook?login_obj.l3_1_legoTook||(this.chekHint=!0,this.showCheck&&(reportHint(34,"l3_1_legoTook"),this.Hint.visible=!0,login_obj.anti_gravity?(this.Hint.x=950*scaleGraphics,this.Hint.y=550*scaleGraphics):(this.Hint.x=970*scaleGraphics,this.Hint.y=470*scaleGraphics))):(this.chekHint=!0,this.showCheck&&(reportHint(35,"l3_1_valveTook"),this.Hint.visible=!0,this.Hint.x=337*scaleGraphics,this.Hint.y=157*scaleGraphics)):22==login_obj.location?login_obj.anti_gravity||login_obj.l3_7_magnetTook&&(this.chekHint=!0,this.showCheck&&(reportHint(36,"anti_gravity"),this.Hint.visible=!0,this.Hint.x=858*scaleGraphics,this.Hint.y=458*scaleGraphics)):23==login_obj.location?login_obj.l3_3_legoTook||(this.chekHint=!0,this.showCheck&&(reportHint(37,"l3_3_legoTook"),this.Hint.visible=!0,this.Hint.x=670*scaleGraphics,this.Hint.y=280*scaleGraphics)):25==login_obj.location?login_obj.l3_5_detectorTook?login_obj.l3_5_valveSet?login_obj.l3_5_legoTook||(this.chekHint=!0,this.showCheck&&(reportHint(38,"l3_5_legoTook"),this.Hint.visible=!0,this.Hint.x=330*scaleGraphics,this.Hint.y=430*scaleGraphics)):login_obj.l3_1_valveTook&&(this.chekHint=!0,this.showCheck&&(reportHint(38,"l3_5_valveSet"),this.Hint.visible=!0,this.Hint.x=130*scaleGraphics,this.Hint.y=455*scaleGraphics)):(this.chekHint=!0,this.showCheck&&(reportHint(39,"l3_5_detectorTook"),this.Hint.visible=!0,this.Hint.x=130*scaleGraphics,this.Hint.y=250*scaleGraphics)):26==login_obj.location?login_obj.l3_6_colaTook?login_obj.l3_6_doorOpen||(this.chekHint=!0,this.showCheck&&(reportHint(40,"l3_6_doorOpen"),this.Hint.visible=!0,this.Hint.x=518*scaleGraphics,this.Hint.y=382*scaleGraphics)):(this.chekHint=!0,this.showCheck&&(reportHint(41,"l3_6_colaTook"),this.Hint.visible=!0,this.Hint.x=940*scaleGraphics,this.Hint.y=190*scaleGraphics)):27==login_obj.location&&(login_obj.l3_7_colaTook?login_obj.l3_7_legoTook||(this.chekHint=!0,this.showCheck&&(reportHint(42,"l3_7_legoTook"),this.Hint.visible=!0,this.Hint.x=40*scaleGraphics,this.Hint.y=165*scaleGraphics)):(this.chekHint=!0,this.showCheck&&(reportHint(43,"l3_7_colaTook"),this.Hint.visible=!0,this.Hint.x=975*scaleGraphics,this.Hint.y=535*scaleGraphics))),this.Hint.visible)){this.resetHint(),this.Hint.alpha=1;var i=this.Hint;createjs.Tween.get(i).to({alpha:0},700).call(function(){i.visible=!1})}},i.prototype.checkButtons=function(i){for(var t=0;t<this.buttons.length;t++){var s=this.buttons[t];hit_test(s,s.rr,i.stageX,i.stageY)?s.visible&&1==s.alpha&&0==s._selected&&(addHint(s.title),s._selected=!0,s.over&&(s.over.visible=!0)):s._selected&&(removeHint(),s._selected=!1,s.over&&(s.over.visible=!1))}},i.prototype.touchHandler=function(i){var t=i.type;if("mousedown"==t||"pressmove"==t)this.checkButtons(i);else{removeHint();for(var s=0;s<this.buttons.length;s++){var e=this.buttons[s];if(e._selected){if("btnPlay"==e.name)options_pause=!1,this.refreshButtons(),refreshTime(),HTML5API_levelStarted();else if("ButtonPause"==e.name)options_pause=!0,this.refreshButtons(),refreshTime(),HTML5API_levelEnded();else if("ButtonHint"==e.name)this.showCheck=!0,this.showHint();else if("btnSound"==e.fname)this.clickSound();else if("ButtonMenu"==e.name){options_pause=!1,this.Hint.visible=!1,HTML5API_levelEnded();var h=getLevelNumber();com.funtomic.GameOps.setLastLevelNumber(h),this.refreshButtons(),ScreenGame&&ScreenGame.removeAllListener(),saveData(),showMenu()}return e._selected=!1,void(e.over&&(e.over.visible=!1))}}this.Hint.visible=!1}},i.prototype.update=function(){this.func1(),0==this.chekHint&&(this.btnHint.alpha=.5),this.btnHint.alpha<1&&this.chekHint&&getTimer()-login_obj.timeHint>this.timeHint&&(this.btnHint.alpha=1)},i.prototype.resetHint=function(){login_obj.timeHint=getTimer(),this.btnHint.alpha=.5},i.prototype.func1=function(){this.chekHint=!1,this.showCheck=!1,this.showHint()},i.prototype.removeAllListener=function(){this._resultGame=!0,this.removeEventListener("mousedown",this.touchHandler),this.removeEventListener("pressmove",this.touchHandler),this.removeEventListener("pressup",this.touchHandler)},window.ScrPause=i}();